# แนวทางในการแก้ปัญหา
## front-running problem
แก้ปัญหาโดยการที่ player จะต้องใส่ salt มาด้วยเวลาที่จะเลือกตัวเลือก จะเป็นการ commit สิ่งที่ผู้เล่นนั้นเลือก และเมื่อ player ทั้งสองเลือกเสร็จแล้วจึงค่อย reveal ด้วยตัว player เอง ผ่านฟังก์ชัน revealAnswerPlayer เกมจึงจะสามารถเลือกผู้ชนะได้
### revealAnswerPlayer
จะต้องมีเงื่อนไขว่าผู้เล่นทั้งสองต้อง commit ก่อนถึงจะสามารถ reveal ได้ และผู้ส่งต้องใส่เลขไอดีที่ตรงกับที่ตัวเองเลือกมาในตอนเริ่มเกม หลังจากนั้นจึงจะสามารถ reveal ได้

## ปัญหาเงินค้างในระบบ
ทั้งในขั้นตอนของการ addPlayer, input และ reveal ก็จะมีการเซ็ต deadline ไว้ว่า ถ้าเกิดว่ามีเพียงแค่playerเดียวที่กระทำการนั้นและอีกผู้เล่นยังไม่ยอมกระทำภายในเวลาที่กำหนด ผู้เล่นที่กระทำไปแล้วสามารถที่จะถอนเงินrewardออกมาได้ด้วยตัวเองผ่านฟังก์ชัน withdraw ต่างๆที่มีในแต่ละขั้นตอนแยกกันไป

## ปัญหาไม่รู้ว่าตัวเองเลขไอดีอะไร
ปัญหานี้แก้ด้วยการที่ addPlayer จากตอนแรกที่ไม่ต้องใส่อะไรมา แต่ตอนนี้ต้องใส่เลขไอดีที่ตนเองต้องการจะใช้มาด้วย ถ้าเกิดว่าไม่ได้ก็จะต้องไปใช้อีกเลขนึงแทน เป็นการให้ผู้เล่นเลือกไปในตัวเองเลยว่าอยากจะเล่นด้วยเลขไอดีอะไร

## ปัญหาการทำให้ contract มีการ transact กับ contract ได้ในหลายๆรอบ
เมื่อเล่นจนเสร็จไปรอบนึงแล้วหรือเกิดการwithdrawขึ้น ระบบจะทำการคืนเงินrewardให้กับคนที่ควรได้รับและ reset value เป็นค่าเริ่มต้นทั้งหมดผ่านฟังก์ชัน resetvalue ทำให้สามารถ transact กับ contract นี้ได้หลายๆรอบ

# ตัวอย่าง
### กรณีที่ผู้เล่น 1 ชนะ และ ผู้เล่น 2 แพ้
เงินเริ่มต้นของผู้เล่น 1 และ 2 
![Initial Balance](https://imgur.com/0vB31UN)

Input ของผู้เล่นที่ 1 
![Player1's input](https://imgur.com/BGhBW9k)

Input ของผู้เล่นที่ 2 
![Player2's input](https://imgur.com/MriszE8)

ผลลัพธ์สุดท้ายที่ผู้เล่น 1 ชนะ ทำให้ได้เงินที่วางเดิมพันไว้ และผู้เล่นที่ 2 แพ้ก็เสียเงินเดิมพันไป ![result](image.png)

### กรณีที่ผู้เล่นทั้ง 2 คน เสมอกัน
เงินเริ่มต้นของผู้เล่น 1 และ 2 
![Initial Balance](image-1.png)

Input ของผู้เล่นที่ 1 
![Player1's input](image-2.png)

Input ของผู้เล่นที่ 2 
![Player2's input](image-3.png)

ผลลัพธ์สุดท้ายที่ผู้เล่น 1 และ ผู้เล่นที่ 2 เสมอกัน ทำให้ต่างคนต่างได้เงินคืนเท่าที่ลงไว้ตอนแรก และจะเห็นได้ว่าผมไม่ได้ใช้รูปเดิมเพราะค่า ether เลขทศนิยมท้ายๆนั้นลดลงทั้ง 2 คน 
![result](image-4.png)